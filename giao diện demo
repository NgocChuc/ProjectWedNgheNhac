<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giao diện Nghe Nhạc Hoàn Chỉnh</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;500;700&display=swap" rel="stylesheet" />

    <style>
        /* ================================================= */
        /* 1. KHU VỰC ĐỊNH NGHĨA FONT VÀ CÁC BIẾN CSS */
        /* ================================================= */
        :root {
            /* General */
            --bg-dark: #000000;
            --bg-card-dark: #121212;
            --hover-bg: #1a1a1a;
            --text-white: #ffffff;
            --text-main: #ffffff;
            --text-sub: #b3b3b3;
            --text-gray: #b3b3b3;
            --accent-color: #86B6F6;
            --transition-speed: 0.3s;
            --primary: #86B6F6;

            /* Header & Sidebar */
            --playlist-btn-bg-closed: #121212;
            --btn-text-color-open: rgb(0, 0, 0);
            --btn-bg-open: #72ceff;

            /* Footer */
            --footer-height: 90px;
            --border-color: #333;

            /* Fonts */
            --font-inter: 'Inter', sans-serif;
            --font-spline: 'Spline Sans', sans-serif;
        }

        /* Áp dụng font Inter cho toàn bộ trang */
        body {
            font-family: var(--font-inter);
            background: #000000;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 0;
            color: var(--text-white);
        }

        /* ================================================= */
        /* 2. HEADER - Fixed Top */
        /* ================================================= */
        .headerA {
            background-color: rgba(18, 18, 18, 0.8);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 50px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            width: 100%;
            box-sizing: border-box;
            border-radius: 0;
            margin-bottom: 0;
        }

        .headerA-left-logo {
            flex-shrink: 0;
        }

        .site-logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .headerA-center {
            display: flex;
            align-items: center;
            flex-grow: 1;
            max-width: 600px;
            margin: 0 40px;
        }

        .search-headerA {
            display: flex;
            align-items: center;
            background-color: #2a2a2a;
            border-radius: 20px;
            padding: 5px 15px;
            flex-grow: 1;
            border: 1px solid transparent;
            transition: border-color 0.2s, background-color 0.2s;
        }

        .search-headerA:focus-within {
            border-color: rgb(195, 234, 255);
            background-color: #1a1a1a;
        }

        .input-search-header {
            border: none;
            background: transparent;
            color: #f3f3f3;
            padding: 5px;
            outline: none;
            flex-grow: 1;
            font-size: 16px;
            font-family: var(--font-inter);
        }

        .input-search-header::placeholder {
            color: #b3b3b3;
        }

        .input-sreach-headerA_btn {
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            margin-left: 10px;
        }

        .headerA-right {
            display: flex;
            align-items: center;
        }

        .headerA-right-notifications {
            position: relative;
            margin-right: 15px;
        }

        .headerA-right-button-notifications {
            background-color: #050505;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .headerA-right-button-notifications:hover {
            background-color: #2a2a2a;
        }

        .bell-noti {
            width: 18px;
        }

        .bell-noti path {
            fill: white;
        }

        .notifications-dropdown {
            display: none;
            position: absolute;
            top: 50px;
            right: 0;
            width: 300px;
            background-color: #282828;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            padding: 15px;
            z-index: 1001;
        }

        .notifications-dropdown.show {
            display: block;
        }

        .useraccount-btn {
            display: block;
            border-radius: 50%;
            overflow: hidden;
            width: 40px;
            height: 40px;
            cursor: pointer;
        }

        .user-dropdown-menu {
            display: none;
            position: absolute;
            top: 50px;
            right: 0;
            width: 180px;
            background-color: #282828;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            padding: 5px 0;
            z-index: 1001;
        }

        .user-dropdown-menu.show {
            display: block;
        }

        .headerA svg {
            fill: #F3F3F3;
        }

        @keyframes bellRing {

            0%,
            100% {
                transform-origin: top;
            }

            15% {
                transform: rotateZ(10deg);
            }

            30% {
                transform: rotateZ(-10deg);
            }

            45% {
                transform: rotateZ(5deg);
            }

            60% {
                transform: rotateZ(-5deg);
            }

            75% {
                transform: rotateZ(2deg);
            }
        }

        .headerA-right-button-notifications:hover .bell-noti {
            animation: bellRing 0.9s both;
        }

        /* ================================================= */
        /* 3. MAIN CONTENT WRAPPER */
        /* ================================================= */
        .main-content-wrapper {
            display: flex;
            gap: 3px;
            flex-grow: 1;
            /* Padding: top=53px (Header+gap), others=3px */
            padding: 53px 3px 3px 3px;
            width: 100%;
            box-sizing: border-box;
            /* Chiều cao còn lại cho nội dung */
            min-height: calc(100vh - 53px - var(--footer-height));
        }

        /* ================================================= */
        /* 4. SIDEBAR */
        /* ================================================= */
        .sidebar {
            background-color: #121212;
            width: 350px;
            height: 600px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: width var(--transition-speed) ease;
            flex-shrink: 0;
            position: fixed;
            top: 53px;
            /* Chiều cao Header (50px) + Gap (3px) */
            bottom: var(--footer-height);
            /* Chiều cao Footer */
            left: 3px;
            /* Bằng padding-left của .main-content-wrapper */
            z-index: 10;
            /* Đảm bảo Sidebar luôn nằm trên */
        }

        /* --- TRẠNG THÁI THU GỌN (.collapsed) --- */
        .sidebar.collapsed {
            width: 72px;
        }

        /* Ẩn các thành phần text khi thu gọn */
        .sidebar.collapsed .header-title,
        .sidebar.collapsed .text-info,
        .sidebar.collapsed .list-divider {
            display: none !important;
            opacity: 0;
        }

        /* Căn giữa Header khi thu gọn */
        .sidebar.collapsed .sidebar-header {
            justify-content: center;
            padding: 16px 0;
        }

        .sidebar.collapsed .header-left {
            margin-bottom: 0;
            justify-content: center;
            width: 100%;
        }

        .sidebar.collapsed .list-item {
            justify-content: center;
            padding: 8px 0;
        }

        .sidebar.collapsed .img-box {
            margin-right: 0;
        }

        /* --- HEADER --- */
        .sidebar-header {
            padding: 16px 20px;
            display: flex;
            justify-content: flex-start;
            /* Căn trái */
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
            background-color: var(--sidebar-bg);
            z-index: 2;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text-sub);
            font-weight: 700;
            cursor: pointer;
            transition: color 0.2s;
            white-space: nowrap;
        }

        .header-left:hover {
            color: var(--text-main);
        }

        .header-left:hover svg {
            fill: var(--text-main);
        }

        /* --- LIST ITEMS --- */
        .library-list {
            flex: 1;
            overflow-y: auto;
            padding: 0 8px;
            /* Thêm padding dưới để không bị nút mũi tên che mất nội dung cuối */
            padding-bottom: 50px;
        }

        .library-list::-webkit-scrollbar {
            width: 8px;
        }

        .library-list:hover::-webkit-scrollbar-thumb {
            background-color: #555;
        }

        .list-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .list-item:hover {
            background-color: var(--hover-bg);
        }

        .img-box {
            width: 48px;
            height: 48px;
            min-width: 48px;
            border-radius: 4px;
            overflow: hidden;
            margin-right: 12px;
            background: #333;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .img-box.liked-songs {
            background: linear-gradient(135deg, #450af5, #c4efd9);
        }

        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .text-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }

        .main-title {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-main);
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .sub-title {
            font-size: 13px;
            color: var(--text-sub);
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .list-divider {
            border: none;
            height: 1px;
            background-color: #2a2a2a;
            margin: 10px 10px;
        }

        /* --- PHẦN HÀNH ĐỘNG: TẠO PLAYLIST (LINK CHÍNH) --- */

        .sidebar-bottom-action {
            padding: 0 10px;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: 320px;
            margin-bottom: 15px;
        }

        .create-playlist-link {
            /* STYLE KHI SIDEBAR MỞ */
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            padding: 8px 15px 8px 15px;
            /* Điều chỉnh padding để căn chỉnh khi ảnh bị ẩn */
            border-radius: 30px;
            width: 100%;

            background-color: var(--btn-bg-open);
            color: var(--btn-text-color-open);
            transition: all 0.3s ease;
            overflow: hidden;

            /* Đảm bảo chiều cao không bị ảnh hưởng quá nhiều khi ẩn ảnh */
            min-height: 35px;
        }

        .create-playlist-link:hover {
            background-color: #86B6F6;
        }

        .create-playlist-link .btn-text {
            font-weight: bold;
            color: var(--btn-text-color-open);
            /* Bỏ margin-left: 10px; vì ảnh đã ẩn */
            white-space: nowrap;
            overflow: hidden;
            transition: opacity 0.3s ease;
            opacity: 1;
            /* Hiện văn bản khi mở */
        }

        .playlist-action-svg {
            /* ẨN ẢNH KHI SIDEBAR MỞ */
            display: none;
            width: 32px;
            height: 32px;
         
            transition: all 0.3s ease;
        }

        /* --- HIỆU ỨNG KHI THU GỌN (.collapsed) CHO PLAYLIST --- */

        .sidebar.collapsed .sidebar-bottom-action {
            justify-content: center;
            /* Căn giữa */
            padding: 0 12px;
        }

        .sidebar.collapsed .create-playlist-link {
            /* Chuyển thành hình vuông lớn */
            width: 48px;
            height: 48px;
            padding: 0;
            /* Xóa padding để ảnh full */
            border-radius: 4px;
            background-color: var(--playlist-btn-bg-closed);
            /* Nền Tím */

            justify-content: center;
        }

        .sidebar.collapsed .create-playlist-link:hover {
            filter: brightness(1.1);
        }

        .sidebar.collapsed .create-playlist-link .btn-text {
            display: none;
            /* Ẩn chữ */
        }

        .sidebar.collapsed .playlist-action-svg {
            /* Ảnh chiếm toàn bộ diện tích link */
            display: block;
            width: 100%;
            height: 100%;
          
        }

        /* --- NÚT MŨI TÊN (TOGGLE ARROW) --- */

        .toggle-arrow-btn {
            position: absolute;
            bottom: 15px;
            right: 15px;
            /* Nằm bên phải */
            width: 32px;
            height: 32px;
            background-color: rgba(0, 0, 0, 0.5);
            /* Nền bán trong suốt hoặc màu theme */
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .toggle-arrow-btn:hover {
            background-color: #333;
            transform: scale(1.1);
        }

        .arrow-icon {
            transition: transform 0.3s ease;
            /* Hiệu ứng xoay */
        }

        /* Khi Sidebar đóng, căn chỉnh lại nút mũi tên cho đẹp */
        .sidebar.collapsed .toggle-arrow-btn {
            right: 50%;
            transform: translateX(50%);
            /* Căn giữa theo chiều ngang */
            bottom: 15px;
        }

        .sidebar.collapsed .toggle-arrow-btn:hover {
            transform: translateX(50%) scale(1.1);
        }

        /* ================================================= */
        /* 5. MAIN CONTENT - Banner & Card Grid */
        /* ================================================= */

        .main-content {
            flex-grow: 1;
            background-color: var(--bg-card-dark);
            border-radius: 8px;
            padding: 20px;
            overflow-y: auto;
            color: var(--text-white);
            font-family: var(--font-spline);
            /* 1. Lề trái cho trạng thái Mở (350px Sidebar + 3px Gap + 3px Wrapper Padding) */
            margin-left: 356px;

            /* 2. Chiều rộng cho trạng thái Mở (100% - Margin Offset - 3px Wrapper Padding Right) */
            width: calc(100% - 359px);

            /* 3. Thêm hiệu ứng chuyển đổi cho margin để Sidebar hoạt động trơn tru */
            transition: margin-left 0.3s ease, width 0.3s ease;
        }

        .sidebar.collapsed+.main-content {
            /* Offset mới: 72px (Sidebar thu gọn) + 3px Gap + 3px Wrapper Padding Left */
            margin-left: 78px;

            /* Chiều rộng mới: 100% - (78px Offset + 3px Wrapper Padding Right) */
            width: calc(100% - 81px);
        }

        /* --- Banner Carousel --- */
        .image-carousel {
            overflow: hidden;
            border-radius: 8px;
            max-height: 250px;
            width: 100%;
            margin-bottom: 20px;
        }

        .carousel-track {
            display: flex;
            width: 300%;
            /* 3 ảnh * 100% */
            transition: transform 0.5s ease-in-out;
        }

        .carousel-item {
            width: 33.333%;
            flex-shrink: 0;
        }

        .carousel-item img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- Card Grid Section CSS Mới (Size 1.5x) --- */

        .grid-section {
            padding: 0;
            margin-top: 20px;
        }

        .section-title {
            color: var(--text-white);
            font-size: 1.5rem;
            /* Tăng size title */
            font-weight: 700;
            padding: 1.25rem 0 0.75rem 0;
        }

        .carousel-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            padding: 0;
            margin-bottom: 30px;
        }

        /* Nút mũi tên - Size to hơn */
        .arrow-btn {
            position: absolute;
            width: 45px;
            height: 100%;
            background: rgba(18, 18, 18, 0.6);
            border: none;
            cursor: pointer;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            top: 0;
        }

        .arrow-btn svg {
            fill: var(--text-white);
            width: 32px;
            height: 32px;
            transition: fill 0.2s;
        }

        .arrow-btn:hover svg {
            fill: var(--accent-color);
        }

        .carousel-wrapper:hover .arrow-btn {
            opacity: 1;
        }

        .left-arrow {
            left: -10px;
            border-radius: 6px 0 0 6px;
        }

        .right-arrow {
            right: -10px;
            border-radius: 0 6px 6px 0;
        }

        /* Container cuộn ngang */
        .scroll-container {
            overflow-x: auto;
            scroll-behavior: smooth;
            width: 100%;
            -ms-overflow-style: none;
            scrollbar-width: none;
            user-select: none;
            cursor: grab;
        }

        .scroll-container::-webkit-scrollbar {
            display: none;
        }

        .scroll-container.active-drag {
            cursor: grabbing;
        }

        /* Card Grid - Flex ngang */
        .card-grid {
            display: flex;
            gap: 1.5rem;
            /* Khoảng cách rộng hơn */
            padding: 0.5rem 0.5rem 0.5rem 0;
        }

        /* Music Card - Size 1.5x (180px) */
        .music-card {
            flex-shrink: 0;
            width: 180px;
            /* SIZE LỚN */
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            border-radius: 8px;
            background-color: var(--bg-card-dark);
            transition: background-color 0.3s;
            cursor: pointer;
        }

        .music-card:hover {
            background-color: var(--hover-bg);
        }

        .card-img {
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            border-radius: 6px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .card-title {
            color: var(--text-white);
            font-weight: 700;
            font-size: 1rem;
            /* Chữ to hơn */
            margin: 0 0 6px 0;
            width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-subtitle {
            color: var(--text-gray);
            font-size: 0.875rem;
            /* Chữ to hơn */
            margin: 0;
            width: 100%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* ================================================= */
        /* 6. FOOTER PLAYER - Fixed Bottom */
        /* ================================================= */

        .player-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: var(--footer-height);
            background-color: rgba(18, 18, 18, 0.95);
            backdrop-filter: blur(4px);
            border-top: 1px solid var(--border-color);
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            align-items: center;
            z-index: 1000;
        }

        .svg-icon {
            fill: #b3b3b3;
            transition: fill 0.2s;
            height: 24px;
            width: 24px;
        }

        .icon-hover:hover .svg-icon {
            fill: var(--text-white);
            cursor: pointer;
        }

        .icon-large {
            height: 36px;
            width: 36px;
        }

        .btn-play-pause .svg-icon {
            fill: black;
        }

        .btn-play-pause:hover .svg-icon {
            fill: black;
        }

        .footer-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .footer-img {
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 0.25rem;
            background-size: cover;
            background-position: center;
        }

        .track-name {
            color: var(--text-white);
            font-size: 0.875rem;
            font-weight: 600;
            margin: 0;
        }

        .track-artist {
            color: #9ca3af;
            font-size: 0.75rem;
            margin: 0;
        }

        .footer-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }

        .controls-row {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .btn-play-pause {
            width: 2.5rem;
            height: 2.5rem;
            background-color: white;
            color: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
        }

        .progress-bar-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            width: 100%;
            max-width: 28rem;
        }

        .time-label {
            color: #9ca3af;
            font-size: 0.75rem;
        }

        .progress-bg {
            flex: 1;
            height: 0.25rem;
            background-color: #4b5563;
            border-radius: 9999px;
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 9999px;
        }

        .footer-right {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        .volume-bg {
            width: 6rem;
            height: 0.25rem;
            background-color: #4b5563;
            border-radius: 9999px;
            cursor: pointer;
        }

        .volume-fill {
            height: 100%;
            background-color: white;
            border-radius: 9999px;
        }
    </style>
</head>

<body>

    <input type="hidden" id="isLoggedIn" value="true">

    <header class="headerA">
        <div class="headerA-left-logo">
            <a href="/home" class="logo-link">
                <img src="avtn2.jpg" alt="Logo" class="site-logo">
            </a>
        </div>

        <div class="headerA-center">
            <form class="search-headerA" action="/search" method="GET">
                <input id="inputSrchH" class="input-search-header" name="query"
                    placeholder="tìm kiếm bài hát, nghệ sĩ,..." />
                <button class="input-sreach-headerA_btn" type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22">
                        <path
                            d="M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"
                            fill="#efeff1"></path>
                    </svg>
                </button>
            </form>
        </div>

        <div class="headerA-right">
            <div class="headerA-right-notifications">
                <button id="notificationBtn" class="headerA-right-button-notifications">
                    <svg viewBox="0 0 448 512" class="bell-noti">
                        <path
                            d="M224 0c-17.7 0-32 14.3-32 32V49.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V200c0-75.8-55.5-138.6-128-150.1V32c0-17.7-14.3-32-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V200c0-57.4 46.6-104 104-104h8zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z">
                        </path>
                    </svg>
                </button>
                <div id="notificationsDropdown" class="notifications-dropdown">
                    <div class="notifications-header">
                        <h3 class="notifications-title">Có gì mới!!!</h3>
                    </div>
                    <div class="notifications-content">
                        <p class="notifications-empty-message">Chưa có thông báo mới.<br> Hãy Theo dõi 1 nghệ sĩ yêu
                            thích!</p>
                    </div>
                </div>
            </div>

            <div class="header-right-icon avatar">
                <a href="/profile" class="useraccount-btn">
                    <img src="avt2.jpg" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
                </a>
                <div id="userDropdown" class="user-dropdown-menu">
                    <ul class="user-menu-list">
                        <li class="user-menu-item"><a href="#" class="menu-link">Tài khoản</a></li>
                        <li class="user-menu-item"><a href="/profile" class="menu-link">Profile</a></li>
                        <li class="user-menu-item"><a href="#" class="menu-link">Cài đặt</a></li>
                        <li class="user-menu-item divider"></li>
                        <li class="user-menu-item"><a href="/logout" class="menu-link">Đăng Xuất</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="main-content-wrapper">

        <div class="sidebar" id="library-sidebar">
            <div class="sidebar-header">
                <div class="header-left" onclick="toggleSidebar()" title="Thu gọn / Mở rộng">
                    <svg class="library-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                        width="24px" fill="#e3e3e3">
                        <path
                            d="M500-360q42 0 71-29t29-71v-220h120v-80H560v220q-13-10-28-15t-32-5q-42 0-71 29t-29 71q0 42 29 71t71 29ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z" />
                    </svg>
                    <span class="header-title">Thư viện của bạn</span>
                </div>
            </div>

            <div class="library-list">

                <div class="list-item">
                    <div class="img-box liked-songs">
                        <img src="flist2.jpg" alt="Liked" onerror="this.style.display='none'">
                        <i class="fa-solid fa-heart" style="margin:auto; display: none;"></i>
                    </div>
                    <div class="text-info">
                        <div class="main-title highlight">Bài hát đã thích</div>
                        <div class="sub-title">
                            <i class="fa-solid fa-thumbtack"></i> Danh sách phát • 150 bài hát
                        </div>
                    </div>
                </div>

                <div class="list-item">
                    <div class="img-box">
                        <img src="avt5.jpg" alt="Playlist">
                    </div>
                    <div class="text-info">
                        <div class="main-title">Danh sách của bạn</div>
                        <div class="sub-title">4 danh sách • User A</div>
                    </div>
                </div>

                <hr class="list-divider">

                <div class="sidebar-bottom-action">
                    <a href="/create-playlist" class="create-playlist-link" title="Tạo Playlist mới">
                        <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px"
                            fill="#72ceff">
                            <path d="M412-74v-338H74v-136h338v-338h136v338h338v136H548v338H412Z" />
                        </svg>
                        <span class="btn-text">Tạo Playlist mới</span>
                    </a>
                </div>

               

            </div>
        </div>
        <div class="main-content">

            <div class="image-carousel">
                <div class="carousel-track" id="carouselTrack">
                    <div class="carousel-item"><img src="b1.jpg" alt="Banner 1"></div>
                    <div class="carousel-item"><img src="b2.jpg" alt="Banner 2"></div>
                    <div class="carousel-item"><img src="b3.jpg" alt="Banner 3"></div>
                </div>
            </div>

            <section class="grid-section">
                <h2 class="section-title">Danh sách đề xuất</h2>
                <div class="carousel-wrapper">
                    <button class="arrow-btn left-arrow" onclick="scrollCards(this, -1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                        </svg>
                    </button>
                    <div class="scroll-container">
                        <div class="card-grid">
                            <div class="music-card"><img class="card-img" src="avt2.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Tên danh sách</p>
                                    <p class="card-subtitle">Tạo bởi bạn</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt3.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Workout Jams</p>
                                    <p class="card-subtitle">High-energy</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt6.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Focus Beat</p>
                                    <p class="card-subtitle">Instrumental</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt8.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Dinner Party</p>
                                    <p class="card-subtitle">Chill tunes</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt7.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Relaxing</p>
                                    <p class="card-subtitle">Unwind now</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt9.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Rock Hits</p>
                                    <p class="card-subtitle">Legendary</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt10.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Lofi Study</p>
                                    <p class="card-subtitle">Concentrate</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="arrow-btn right-arrow" onclick="scrollCards(this, 1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400-400 400Z" />
                        </svg>
                    </button>
                </div>
            </section>

            <section class="grid-section">
                <h2 class="section-title">Danh sách 2</h2>
                <div class="carousel-wrapper">
                    <button class="arrow-btn left-arrow" onclick="scrollCards(this, -1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                        </svg>
                    </button>
                    <div class="scroll-container">
                        <div class="card-grid">
                            <div class="music-card"><img class="card-img" src="avt1.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">V-Pop Mới</p>
                                    <p class="card-subtitle">Thịnh hành</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt4.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">EDM Bass</p>
                                    <p class="card-subtitle">Party hard</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt5.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Acoustic</p>
                                    <p class="card-subtitle">Guitar chill</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt11.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Jazz</p>
                                    <p class="card-subtitle">Soulful</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt12.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">K-Pop</p>
                                    <p class="card-subtitle">Idol hits</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt13.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Nhạc Phim</p>
                                    <p class="card-subtitle">OST hay</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="arrow-btn right-arrow" onclick="scrollCards(this, 1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400-400 400Z" />
                        </svg>
                    </button>
                </div>
            </section>

            <section class="grid-section">
                <h2 class="section-title">Danh sách 3</h2>
                <div class="carousel-wrapper">
                    <button class="arrow-btn left-arrow" onclick="scrollCards(this, -1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                        </svg>
                    </button>
                    <div class="scroll-container">
                        <div class="card-grid">
                            <div class="music-card"><img class="card-img" src="avt14.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Indie</p>
                                    <p class="card-subtitle">Alternative</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt15.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Deep House</p>
                                    <p class="card-subtitle">Vibe</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt2.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Bolero</p>
                                    <p class="card-subtitle">Trữ tình</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt3.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Hip Hop</p>
                                    <p class="card-subtitle">Rap Việt</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt6.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">Piano</p>
                                    <p class="card-subtitle">Classical</p>
                                </div>
                            </div>
                            <div class="music-card"><img class="card-img" src="avt8.jpg" alt="Cover">
                                <div class="card-info">
                                    <p class="card-title">R&B</p>
                                    <p class="card-subtitle">Love songs</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="arrow-btn right-arrow" onclick="scrollCards(this, 1)">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                            <path d="m321-80-71-71 329-329-329-329 71-71 400 400-400 400Z" />
                        </svg>
                    </button>
                </div>
            </section>

        </div>
    </div>
    <footer class="player-footer">
        <div class="footer-left">
            <div class="footer-img"
                style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCPeQBiL17hp3zhDi5tt17F3XBBzToR8aTClfhF4Df1PzOiQ1MgPYzU6TQG3RzP_Hi7jKUisPnDaxX4__W4nv1zNgs7oHdmHTflJHXM-fbf2HYEaRtX60hpH0tRxeqHU3dg2UBQ_UCPRs-Gldi_iU7IQwSpzH8iV4SAxXLxAef7NlnNDG5Mg85LCAHZ70vIe2flHZe_6qU8ISRk8ZC4juHztBWCnCaFKWXRFHZWE0W8gXTXZgLqV_3TRq6FRrtJnS7lUgH0fxNyED4");'>
            </div>
            <div class="footer-track-info">
                <p class="track-name">Levitating</p>
                <p class="track-artist">Dua Lipa</p>
            </div>
            <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px">
                <path
                    d="m480-120-58-52q-101-91-167-157T150-447.5Q111-500 95.5-544T80-634q0-94 63-157t157-63q52 0 99 22t81 62q34-40 81-62t99-22q94 0 157 63t63 157q0 46-15.5 90T810-447.5Q771-395 705-329T538-172l-58 52Z" />
            </svg>
        </div>

        <div class="footer-center">
            <div class="controls-row">
                <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                    viewBox="0 -960 960 960" width="24px">
                    <path
                        d="M560-160v-80h104L537-367l57-57 126 126v-102h80v240H560Zm-344 0-56-56 504-504H560v-80h240v240h-80v-104L216-160Zm151-377L160-744l56-56 207 207-56 56Z" />
                </svg>
                <svg class="icon-subtle icon-hover icon-large svg-icon" xmlns="http://www.w3.org/2000/svg" height="36"
                    viewBox="0 96 960 960" width="36">
                    <path d="M220 776V376h80v400h-80Zm520 0-280-200 280-200v400Z" />
                </svg>
                <button class="btn-play-pause"><svg class="icon-large svg-icon" xmlns="http://www.w3.org/2000/svg"
                        height="36" viewBox="0 96 960 960" width="36">
                        <path d="M520 776V376h160v400H520Zm-240 0V376h160v400H280Z" />
                    </svg></button>
                <svg class="icon-subtle icon-hover icon-large svg-icon" xmlns="http://www.w3.org/2000/svg" height="36"
                    viewBox="0 96 960 960" width="36">
                    <path d="M660 776V376h80v400h-80ZM220 776V376l280 200-280 200Z" />
                </svg>
                <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                    viewBox="0 -960 960 960" width="24px">
                    <path
                        d="M280-80 120-240l160-160 56 58-62 62h406v-160h80v240H274l62 62-56 58Zm-80-440v-240h486l-62-62 56-58 160 160-160 160-56-58 62-62H280v160h-80Z" />
                </svg>
            </div>
            <div class="progress-bar-container">
                <span class="time-label">1:15</span>
                <div class="progress-bg">
                    <div class="progress-fill" style="width: 45%"></div>
                </div>
                <span class="time-label">3:23</span>
            </div>
        </div>

        <div class="footer-right">
            <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px">
                <path
                    d="M120-320v-80h280v80H120Zm0-160v-80h440v80H120Zm0-160v-80h440v80H120Zm520 480v-160H480v-80h160v-160h80v160h160v80H720v160h-80Z" />
            </svg>
            <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px">
                <path
                    d="M80-80v-720q0-33 23.5-56.5T160-880h440q33 0 56.5 23.5T680-800v17q-24 11-44 27t-36 36v-80H160v527l47-47h393v-160q16 20 36 36t44 27v97q0 33-23.5 56.5T600-240H240L80-80Zm160-320h160v-80H240v80Zm520-80q-50 0-85-35t-35-85q0-50 35-85t85-35q11 0 21 2t19 5v-207h160v80h-80v240q0 50-35 85t-85 35Zm-520-40h280v-80H240v80Zm0-120h280v-80H240v80Zm-80 320v-480 480Z" />
            </svg>
            <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px">
                <path
                    d="M640-160q-50 0-85-35t-35-85q0-50 35-85t85-35q11 0 21 1.5t19 6.5v-328h200v80H760v360q0 50-35 85t-85 35ZM120-320v-80h320v80H120Zm0-160v-80h480v80H120Zm0-160v-80h480v80H120Z" />
            </svg>
            <svg class="icon-subtle icon-hover svg-icon" xmlns="http://www.w3.org/2000/svg" height="24px"
                viewBox="0 -960 960 960" width="24px">
                <path
                    d="M560-131v-82q90-26 145-100t55-168q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 127-78 224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440 40v-322q47 22 73.5 66t26.5 96q0 51-26.5 94.5T560-320ZM400-606l-86 86H200v80h114l86 86v-252ZM300-480Z" />
            </svg>
            <div class="volume-bg">
                <div class="volume-fill" style="width: 70%"></div>
            </div>
        </div>
    </footer>
    <script>
        // --- Sidebar Toggle ---
        function toggleSidebar() {
            const sidebar = document.getElementById('library-sidebar');
            const arrowBtn = document.getElementById('toggleArrowBtn');

            if (sidebar) {
                sidebar.classList.toggle('collapsed');
                if (arrowBtn) {
                    const icon = arrowBtn.querySelector('.arrow-icon');
                    if (sidebar.classList.contains('collapsed')) {
                        icon.style.transform = 'rotate(180deg)';
                    } else {
                        icon.style.transform = 'rotate(0deg)';
                    }
                }
            }
        }

        // --- Card Scroll (Arrow Button) ---
        function scrollCards(button, direction) {
            const wrapper = button.parentElement;
            const container = wrapper.querySelector('.scroll-container');

            if (container) {
                // Scroll amount = width of container * 0.7
                const scrollAmount = container.offsetWidth * 0.7;
                container.scrollBy({
                    left: direction * scrollAmount,
                    behavior: 'smooth'
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            // --- Header Dropdown Logic ---
            const notificationBtn = document.getElementById('notificationBtn');
            const notificationsDropdown = document.getElementById('notificationsDropdown');
            const userAvatarBtn = document.querySelector('.useraccount-btn');
            const userDropdown = document.getElementById('userDropdown');

            if (notificationBtn) {
                notificationBtn.addEventListener('click', function (event) {
                    event.stopPropagation();
                    notificationsDropdown.classList.toggle('show');
                    if (userDropdown && userDropdown.classList.contains('show')) userDropdown.classList.remove('show');
                });
            }

            if (userAvatarBtn) {
                userAvatarBtn.addEventListener('click', function (event) {
                    event.preventDefault();
                    event.stopPropagation();
                    userDropdown.classList.toggle('show');
                    if (notificationsDropdown && notificationsDropdown.classList.contains('show')) notificationsDropdown.classList.remove('show');
                });
            }

            document.addEventListener('click', function () {
                if (notificationsDropdown) notificationsDropdown.classList.remove('show');
                if (userDropdown) userDropdown.classList.remove('show');
            });

            // --- Carousel Autoplay Script ---
            const track = document.getElementById('carouselTrack');
            const items = track ? track.getElementsByClassName('carousel-item') : [];

            if (items.length > 0) {
                const totalItems = items.length;
                let currentIndex = 0;
                const intervalTime = 3000; // 3s

                function updateCarousel() {
                    // Since track width is 300%, each move is -33.33% relative to total width, 
                    // or simply -100% relative to single item width if controlled differently.
                    // Here we use percentage offset based on number of items.
                    const offset = -currentIndex * (100 / totalItems);
                    track.style.transform = `translateX(${offset}%)`;
                    currentIndex = (currentIndex + 1) % totalItems;
                }
                setInterval(updateCarousel, intervalTime);
            }

            // --- Drag-Scroll for Card Grid ---
            const containers = document.querySelectorAll('.scroll-container');

            containers.forEach(container => {
                let isDown = false;
                let startX;
                let scrollLeft;

                container.addEventListener('mousedown', (e) => {
                    isDown = true;
                    container.classList.add('active-drag');
                    startX = e.pageX - container.offsetLeft;
                    scrollLeft = container.scrollLeft;
                });

                container.addEventListener('mouseleave', () => {
                    isDown = false;
                    container.classList.remove('active-drag');
                });

                container.addEventListener('mouseup', () => {
                    isDown = false;
                    container.classList.remove('active-drag');
                });

                container.addEventListener('mousemove', (e) => {
                    if (!isDown) return;
                    e.preventDefault();
                    const x = e.pageX - container.offsetLeft;
                    const walk = (x - startX) * 1.5; // Drag speed
                    container.scrollLeft = scrollLeft - walk;
                });
            });
        });
    </script>
</body>

</html>
